"use strict";(globalThis["webpackChunkquasar_project"]=globalThis["webpackChunkquasar_project"]||[]).push([[566],{7566:(e,t,o)=>{o.r(t),o.d(t,{default:()=>T});var s=o(9835);const a=e=>((0,s.dD)("data-v-7d2bd276"),e=e(),(0,s.Cn)(),e),n={class:"house-rules"},l={class:"q-pa-md q-mb-md"},i={class:"row"},r={class:"col-md-8"},u=a((()=>(0,s._)("h1",null,"House rules - The cove on milsons",-1))),d=a((()=>(0,s._)("p",null," Thank you for choosing our platform to list your property. To ensure a pleasant and comfortable experience for your guests, it is important to establish clear house rules. Please take a moment to define the house rules for your property below: ",-1)));function c(e,t,o,a,c,h){const m=(0,s.up)("q-btn"),p=(0,s.up)("TableComponent");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",l,[(0,s._)("div",i,[(0,s._)("div",r,[u,d,(0,s.Wm)(m,{unelevated:"",color:"primary","text-color":"white",icon:"add",label:"New rule",class:"login-button"})])])]),(0,s.Wm)(p,{onRuleDeleted:h.updateRuleList},null,8,["onRuleDeleted"])])}const h={class:"q-gutter-sm"};function m(e,t,o,a,n,l){const i=(0,s.up)("q-btn"),r=(0,s.up)("q-table");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,{rows:e.houseRules,columns:e.columns,"row-key":"id",pagination:e.pagination,"onUpdate:pagination":t[0]||(t[0]=t=>e.pagination=t)},{"body-cell-actions":(0,s.w5)((t=>[(0,s._)("div",h,[(0,s.Wm)(i,{flat:"",dense:"",round:"",icon:"delete",size:"sm",onClick:o=>e.deleteRule(t.row)},null,8,["onClick"])])])),_:1},8,["rows","columns","pagination"])])}var p=o(7524);const b=(0,s.aZ)({name:"TableComponent",data(){return{loggedIn:!0,houseRules:[],columns:[{name:"id",required:!0,label:"ID",align:"left",field:"id",sortable:!0},{name:"name",required:!0,label:"Name",align:"left",field:"name",sortable:!0},{name:"active",required:!0,label:"Active",align:"left",field:"active",sortable:!0},{name:"actions",label:"Actions",align:"center",field:"id",sortable:!1}],pagination:{rowsPerPage:10}}},mounted(){this.fetchHouseRules()},methods:{fetchHouseRules(){const e={headers:{Authorization:"Bearer 40fe071962846075452a4f6123ae71697463cad20f51e237e2035b41af0513d8"}};p.Z.get("https://sys-dev.searchandstay.com/api/admin/house_rules",e).then((e=>{const t=e.data.data;this.houseRules=t.entities.map((e=>({...e,actions:e.id})))})).catch((e=>{console.error(e)}))},deleteRule(e){const t={headers:{Authorization:"Bearer 40fe071962846075452a4f6123ae71697463cad20f51e237e2035b41af0513d8"}};p.Z["delete"](`https://sys-dev.searchandstay.com/api/admin/house_rules/${e.id}`,t).then((t=>{const o=t.data;if(o.success){const t=this.houseRules.findIndex((t=>t.id===e.id));-1!==t&&(this.houseRules.splice(t,1),this.$emit("ruleDeleted",e.id))}else console.error(o.message)})).catch((e=>{console.error(e)}))}}});var f=o(1639),g=o(1618),v=o(9379),w=o(9984),y=o.n(w);const R=(0,f.Z)(b,[["render",m]]),_=R;y()(b,"components",{QTable:g.Z,QBtn:v.Z});const q={components:{TableComponent:_},data(){return{loggedIn:!0,rules:[]}},methods:{updateRuleList(e){this.rules=this.rules.filter((t=>t.id!==e))}}},k=(0,f.Z)(q,[["render",c],["__scopeId","data-v-7d2bd276"]]),T=k;y()(q,"components",{QBtn:v.Z})}}]);